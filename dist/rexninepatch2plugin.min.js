!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexninepatch2plugin=e()}(void 0,function(){function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);i=i.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(r.key),r)}}function n(t,e,i){e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1})}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");e=t;if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(i){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=o(i);return s(this,r?(t=o(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:i):r.value}).apply(this,arguments)}function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var i;if(t)return"string"==typeof t?c(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function t(t,e){var i;return this.width===t&&this.height===e||(this.width=t,this.height=e,this.updateDisplayOrigin(),(i=this.input)&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e)),this}function e(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this}function d(t,e,i){return("__BASE"===i?"":"".concat(i,"_")).concat(t,",").concat(e)}function _(t){var e,i,r;if(null==t||"object"!==x(t))return t;if(e=Array.isArray(t)?[]:{},K(t))for(r in t)i=t[r],e[r]=_(i);else e=t;return e}function f(t){return t="string"==typeof t?$[t]:t}function p(){}function v(t,p){var e=function(){h(f,t);var d=l(f);function f(t,e,i,r,s,n,h,o,a,l){y(this,f),j(e)?(e=S(l=e,"x",0),i=S(l,"y",0),r=S(l,"width",1),s=S(l,"height",1),n=S(l,"key",void 0),h=S(l,"baseFrame",void 0),o=S(l,"columns",void 0),a=S(l,"rows",void 0)):j(r)?(r=S(l=r,"width",1),s=S(l,"height",1),n=S(l,"key",void 0),h=S(l,"baseFrame",void 0),o=S(l,"columns",void 0),a=S(l,"rows",void 0)):j(n)?(n=S(l=n,"key",void 0),h=S(l,"baseFrame",void 0),o=S(l,"columns",void 0),a=S(l,"rows",void 0)):j(h)?(h=S(l=h,"baseFrame",void 0),o=S(l,"columns",void 0),a=S(l,"rows",void 0)):Array.isArray(h)?(l=a,a=o,o=h,h=S(l,"baseFrame",void 0)):j(o)&&(o=S(l=o,"columns",void 0),a=S(l,"rows",void 0)),void 0===o&&(u=S(l,"leftWidth",void 0),c=S(l,"rightWidth",void 0),void 0!==u)&&void 0!==c&&(o=[u,void 0,c]),void 0===a&&(u=S(l,"topHeight",void 0),c=S(l,"bottomHeight",void 0),void 0!==u)&&void 0!==c&&(a=[u,void 0,c]),(u=d.call(this,t)).type=p,u.setPosition(e,i).setSize(r,s).setOrigin(.5,.5),u.columns={},u.rows={},u.stretchMode={},u._tileSprite=void 0,u._image=void 0,u.setGetFrameNameCallback(S(l,"getFrameNameCallback",void 0)),u.setStretchMode(S(l,"stretchMode",0)),u.setPreserveRatio(S(l,"preserveRatio",!0));var u,c=S(l,"maxFixedPartScale",1),t=S(l,"maxFixedPartScaleX",c),e=S(l,"maxFixedPartScaleY",void 0);return u.setMaxFixedPartScale(t,e),u.setBaseTexture(n,h,o,a),u}return n(f,[{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}},{key:"fixedPartScaleX",get:function(){return this.columns.scale}},{key:"fixedPartScaleY",get:function(){return this.rows.scale}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||((a(o(f.prototype),"resize",this)?a(o(f.prototype),"resize",this):a(o(f.prototype),"setSize",this)).call(this,t,e),this.updateTexture()),this}}]),f}();return Object.assign(e.prototype,q),e}function g(t,e){"string"==typeof e&&(e={frame:e});var i=t.poolManager?t.poolManager.allocate(D):null;null===i?i=new Y(t):i.setParent(t).setActive(),i.modifyPorperties(e),t.addChild(i)}var m=Phaser.GameObjects.GetCalcMatrix,C=Phaser.Renderer.Canvas.SetTransform,b={renderWebGL:function(t,e,i,r){var s=e.getRenderList();if(0!==s.length){i.addToRenderList(e);var n=t.pipelines.set(e.pipeline),h=e.frame.glTexture,o=n.setGameObject(e),a=i.roundPixels,r=m(e,i,r),l=n.calcMatrix.copyFrom(r.calc),u=e._displayOriginX,c=e._displayOriginY,d=i.alpha*e.alpha;t.pipelines.preBatch(e);for(var f=0,p=s.length;f<p;f++)s[f].webglRender(n,l,d,u,c,h,o,a);t.pipelines.postBatch(e)}},renderCanvas:function(t,e,i,r){var s=t.currentContext,n=e.getRenderList();if(0!==n.length&&C(t,s,e,i,r)){i.addToRenderList(e);var h=i.roundPixels,o=-e._displayOriginX,a=-e._displayOriginY;s.translate(o,a);for(var l=0,u=n.length;l<u;l++)n[l].canvasRender(s,o,a,h);s.restore()}}},L=Phaser.Utils.Array.Remove,w={setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.frame=this.texture.get(e),this},resize:t,setSize:t,addChild:function(t){var e;return this.lastAppendedChildren.length=0,Array.isArray(t)?(this.children.add(t),(e=this.lastAppendedChildren).push.apply(e,u(t))):(this.children.add(t),this.lastAppendedChildren.push(t)),this},removeChild:function(t){return this.poolManager&&this.poolManager.free(t),L(this.children.list,t),this.lastAppendedChildren.length=0,this.dirty=!0,this},removeChildren:e,clear:e,getLastAppendedChildren:function(){return this.lastAppendedChildren},getChildren:function(){return this.children.list}},G=(Object.assign(w,{setTint:function(t){return this.tint=t,this.tintFill=!1,this},setTintFill:function(t){return this.tint=t,this.tintFill=!0,this},clearTint:function(){return this.setTint(16777215),this}}),function(){function t(){y(this,t),this.items=[]}return n(t,[{key:"destroy",value:function(){this.clear(),this.items=void 0}},{key:"pop",value:function(){return 0<this.items.length?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}},{key:"clear",value:function(){return this.items.length=0,this}}]),t}()),W=Phaser.Utils.Objects.GetValue,H={},B=function(){function e(t){y(this,e),this.pools=W(t,"pools",H)}return n(e,[{key:"destroy",value:function(){this.pools=void 0}},{key:"free",value:function(t){var e;return this.pools&&(e=t.type,this.pools.hasOwnProperty(e)||(this.pools[e]=new G),this.pools[e].push(t),t.onFree()),this}},{key:"freeMultiple",value:function(t){if(this.pools)for(var e=0,i=t.length;e<i;e++)this.free(t[e]);return this}},{key:"allocate",value:function(t){return this.pools&&this.pools.hasOwnProperty(t)?this.pools[t].pop():null}}]),e}(),U=Phaser.GameObjects.GameObject,I=Phaser.Utils.Objects.IsPlainObject,P=Phaser.Utils.Objects.GetValue,N=Phaser.Structs.List,z=Phaser.Utils.Array.StableSort,O=function(){h(a,U);var o=l(a);function a(t,e,i,r,s,n){y(this,a),I(e)&&(e=P(n=e,"x",0),i=P(n,"y",0),r=P(n,"texture"),s=P(n,"frame")),void 0===e&&(e=0),void 0===i&&(i=0),(t=o.call(this,t,"rexBlitter")).children=new N,t.renderList=[],t.displayListDirty=!1,t.lastAppendedChildren=[];var h=P(n,"reuseBob",!0);return t.poolManager=h?new B(n):void 0,t.setTexture(r,s).setPosition(e,i).setOrigin(0,0).clearTint().initPipeline(),t}return n(a,[{key:"preDestroy",value:function(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}},{key:"getRenderList",value:function(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,e=this.children.list,i=0,r=e.length;i<r;i++){var s=e[i];E(s)&&(this.renderList.push(s),t=t||0!==s.depth)}t&&z(this.renderList,V),this.displayListDirty=!1}return this.renderList}}]),a}(),E=function(t){return t.active&&t.visible&&0<t.alpha},V=function(t,e){return t._depth-e._depth},k=Phaser.GameObjects.Components,K=(Phaser.Class.mixin(O,[k.Alpha,k.BlendMode,k.ComputedSize,k.Depth,k.GetBounds,k.Mask,k.Origin,k.Pipeline,k.ScrollFactor,k.Transform,k.Visible,b,w]),function(t){if("object"!==x(t)||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0}),Q=Phaser.Utils.Objects.IsPlainObject,F=Phaser.Utils.Objects.GetValue,$={scale:0,repeat:1},q={_beginDraw:p,_drawImage:p,_drawTileSprite:p,_endDraw:p,setGetFrameNameCallback:function(t){return this.getFrameNameCallback=t=void 0===t?d:t,this},setBaseTexture:function(t,e,i,r){Array.isArray(e)&&(r=i,i=e,e=void 0),null==e&&(e="__BASE"),r="number"==typeof i&&6<=arguments.length?(i=[arguments[2],void 0,arguments[3]],[arguments[4],void 0,arguments[5]]):(i=_(i),_(r)),this.textureKey=t,this.baseFrameName=e,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=r,this.rows.count=r?r.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var s=this.scene.sys.textures.get(t);if(s)if(i&&r){for(var n=s.get(e),h=n.width,o=0,a=0,l=i.length;a<l;a++)void 0===i[a]?o++:"number"==typeof i[a]?h-=i[a]:h-=i[a].width;for(var u=h/o,c=n.height,d=0,a=0,l=r.length;a<l;a++)void 0===r[a]?d++:"number"==typeof r[a]?c-=r[a]:c-=r[a].width;for(var f,p,y,v=c/d,g=0,m=0,b=0,w=r.length;b<w;b++){void 0===r[b]&&(r[b]=v),"number"==typeof r[b]&&(r[b]={height:r[b],stretch:b%2}),p=(f=r[b]).height,this.rows.stretch+=0|f.stretch,this.rows.minHeight+=0<f.stretch?0:p;for(var P,O,g=0,a=0,k=i.length;a<k;a++)void 0===i[a]&&(i[a]=u),"number"==typeof i[a]&&(i[a]={width:i[a],stretch:a%2}),y=(P=i[a]).width,0===b&&(this.columns.stretch+=0|P.stretch,this.columns.minWidth+=0<P.stretch?0:y),1<=y&&1<=p&&("string"!==(O=x(P=this.getFrameNameCallback(a,b,e)))&&"number"!==O||s.add(P,0,g+n.cutX,m+n.cutY,y,p)),g+=y;m+=p}this.updateTexture()}else this.clear();else this.clear();return this},updateTexture:function(){if(this.clear(),void 0===this.textureKey)return this;var t=this.scene.sys.textures.get(this.textureKey);if(!t)return this;var e,i,r,s,n,h,o=this.columns.minWidth*this.maxFixedPartScaleX,a=this.rows.minHeight*this.maxFixedPartScaleY,l=this.width-o,u=this.height-a,c=0<=l?this.maxFixedPartScaleX:this.width/o,d=0<=u?this.maxFixedPartScaleY:this.height/a,f=(this.preserveRatio&&((e=Math.min(c,d))<c&&(o=(c-e)*o,0<=l?l+=o:l=o,c=e),e<d)&&(o=(d-e)*a,0<=u?u+=o:u=o,d=e),this.columns.scale=c,this.rows.scale=d,i=0<l&&0<this.columns.stretch?l/this.columns.stretch:0,r=0<u&&0<this.rows.stretch?u/this.rows.stretch:0,0),p=0;this._beginDraw();for(var y=0,v=this.rows.count;y<v;y++){for(var g,m=0===(g=this.rows.data[y]).stretch?g.height*d:r*g.stretch,f=0,b=0,w=this.columns.count;b<w;b++)h=0===(n=this.columns.data[b]).stretch?n.width*c:i*n.stretch,s=this.getFrameNameCallback(b,y,this.baseFrameName),t.has(s)&&0<h&&0<m&&(0===(0===g.stretch&&0===n.stretch||0===this.getStretchMode(b,y)?0:1)?this._drawImage(this.textureKey,s,f,p,h,m):this._drawTileSprite(this.textureKey,s,f,p,h,m)),f+=h;p+=m}this._endDraw()},setStretchMode:function(t){return Q(t)?(this.stretchMode.edge=f(F(t,"edge",0)),this.stretchMode.internal=f(F(t,"internal",0))):(t=f(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1}.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal},setPreserveRatio:function(t){return this.preserveRatio=t=null==t?!0:t,this},setMaxFixedPartScale:function(t,e){return void 0===e&&(e=t),this.maxFixedPartScaleX=t,this.maxFixedPartScaleY=e,this}},j=Phaser.Utils.Objects.IsPlainObject,S=Phaser.Utils.Objects.GetValue,D="image",k={enableData:function(){return void 0===this.data&&(this.data={}),this},setData:function(t,e){if(this.enableData(),1===arguments.length){var i=t;for(t in i)this.data[t]=i[t]}else this.data[t]=e;return this},getData:function(t,e){if(this.enableData(),void 0===t)return this.data;var i=this.data,r=e;if(i&&"number"!=typeof i){if(i.hasOwnProperty(t))return i[t];if(-1===t.indexOf("."))return r;for(var s=t.split("."),n=i,h=r,o=0;o<s.length;o++){if(!n.hasOwnProperty(s[o])){h=r;break}h=n[s[o]],n=n[s[o]]}return h}return r},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){if(this.data){var t=this.data;if("object"===x(t)&&null!==t)if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}return this}},A=function(){function i(t,e){y(this,i),this.type=e,this.data=void 0,this.setParent(t).reset().setActive()}return n(i,[{key:"destroy",value:function(){this.parent&&this.parent.removeChild(this)}},{key:"setParent",value:function(t){return this.parent=t,this}},{key:"setDisplayListDirty",value:function(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}},{key:"active",get:function(){return this._active},set:function(t){this.setDisplayListDirty(this._active!=t),this._active=t}},{key:"setActive",value:function(t){return this.active=t=void 0===t?!0:t,this}},{key:"modifyPorperties",value:function(t){return this}},{key:"reset",value:function(){this.clearData()}},{key:"onFree",value:function(){this.reset().setActive(!1).setParent()}}]),i}(),J=(Object.assign(A.prototype,k),Phaser.Math.DegToRad),Z=Phaser.Math.RadToDeg,T=Phaser.Utils.Objects.GetValue,tt=function(){h(e,A);var t=l(e);function e(){return y(this,e),t.apply(this,arguments)}return n(e,[{key:"visible",get:function(){return this._visible},set:function(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}},{key:"setVisible",value:function(t){return this.visible=t=void 0===t?!0:t,this}},{key:"alpha",get:function(){return this._alpha},set:function(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}},{key:"setAlpha",value:function(t){return this.alpha=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setRotation",value:function(t){return this.rotation=t,this}},{key:"angle",get:function(){return Z(this.rotation)},set:function(t){this.rotation=J(t)}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setScaleX",value:function(t){return this.scaleX=t,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"setWidth",value:function(t,e){return void 0===e&&(e=!1),this.width=t,e&&(this.scaleY=this.scaleX),this}},{key:"setScaleY",value:function(t){return this.scaleY=t,this}},{key:"setScale",value:function(t,e){return void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"setHeight",value:function(t,e){return void 0===e&&(e=!1),this.height=t,e&&(this.scaleX=this.scaleY),this}},{key:"displayWidth",get:function(){return this._width*this.scaleX},set:function(t){this.scaleX=t/this._width}},{key:"setDisplayWidth",value:function(t,e){return void 0===e&&(e=!1),this.displayWidth=t,e&&(this.scaleY=this.scaleX),this}},{key:"displayHeight",get:function(){return this._height*this.scaleY},set:function(t){this.scaleY=t/this._height}},{key:"setDisplayHeight",value:function(t,e){return void 0===e&&(e=!1),this.displayHeight=t,e&&(this.scaleX=this.scaleY),this}},{key:"setOriginX",value:function(t){return this.originX=t,this._displayOriginX=this.width*t,this}},{key:"setOriginY",value:function(t){return this.originY=t,this._displayOriginY=this.height*t,this}},{key:"setOrigin",value:function(t,e){return void 0===e&&(e=t),this.setOriginX(t).setOriginY(e),this}},{key:"depth",get:function(){return this._depth},set:function(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}},{key:"setDepth",value:function(t){return this.depth=t=void 0===t?0:t,this}},{key:"modifyPorperties",value:function(t){var e,i,r,s;return t&&(t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha),s=T(t,"width",void 0),e=T(t,"height",void 0),r=T(t,"scale",void 0),i=T(t,"scaleX",r),r=T(t,"scaleY",r),void 0!==s?void 0===e&&void 0===r?this.setWidth(s,!0):this.setWidth(s):void 0!==i?this.setScaleX(i):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),void 0!==e?void 0===s&&void 0===i?this.setHeight(e,!0):this.setHeight(e):void 0!==r?this.setScaleY(r):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight),void 0!==(s=T(t,"origin",void 0))?this.setOrigin(s):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth"))&&this.setDepth(t.depth),this}},{key:"reset",value:function(){return a(o(e.prototype),"reset",this).call(this),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}},{key:"webglRender",value:function(t,e,i,r,s,n,h,o){}},{key:"canvasRender",value:function(t,e,i,r){}}]),e}(),b=Phaser.GameObjects.Components.TransformMatrix,et=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha,X=new b,it=Phaser.Utils.Objects.IsPlainObject,Y=function(){h(r,tt);var i=l(r);function r(t,e){return y(this,r),(t=i.call(this,t,D)).setFrame(e),t}return n(r,[{key:"width",get:function(){return this._width},set:function(t){}},{key:"height",get:function(){return this._height},set:function(t){}},{key:"setFrame",value:function(t){return 0<arguments.length&&!it(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}},{key:"setFlipX",value:function(t){return this.flipX=t=void 0===t?!0:t,this}},{key:"setFlipY",value:function(t){return this.flipY=t=void 0===t?!0:t,this}},{key:"resetFlip",value:function(){return this.flipX=!1,this.flipY=!1,this}},{key:"tint",get:function(){return void 0===this._tint?this.parent.tint:this._tint},set:function(t){this._tint=t}},{key:"setTint",value:function(t){return this.tint=t,this.tintFill=!1,this}},{key:"setTintFill",value:function(t){return this.tint=t,this.tintFill=!0,this}},{key:"clearTint",value:function(){return this.setTint(16777215),this}},{key:"resetTint",value:function(){return this.tint=void 0,this.tintFill=void 0,this}},{key:"tintFill",get:function(){return void 0===this._tintFill?this.parent.tintFill:this._tintFill},set:function(t){this._tintFill=t}},{key:"reset",value:function(){return a(o(r.prototype),"reset",this).call(this),this.resetFlip().resetTint().setFrame(),this}},{key:"modifyPorperties",value:function(t){return t&&(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),a(o(r.prototype),"modifyPorperties",this).call(this,t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill"))&&this.setTintFill(t.tintFill),this}}]),r}(),w=(Object.assign(Y.prototype,{webglRender:function(t,e,i,r,s,n,h,o){var a=this._width,l=this._height,u=a*this.originX,c=l*this.originY,r=this.x-r,s=this.y-s,d=1,f=1,r=(this.flipX&&(r+=a-2*u,d=-1),this.flipY&&(s+=l-2*c,f=-1),X.applyITRS(r,s,this.rotation,this.scaleX*d,this.scaleY*f),e.multiply(X,X),-u),s=-c,d=X.setQuad(r,s,r+a,s+l,o),f=this.frame.u0,e=this.frame.v0,u=this.frame.u1,c=this.frame.v1,r=et(this.tint,this.alpha*i);t.batchQuad(this.parent,d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],f,e,u,c,r,r,r,r,this.tintFill,n,h)},canvasRender:function(t,e,i,r){t.save();var s=this._width,n=this._height,h=s*this.originX,o=n*this.originY,h=this.x-h,o=this.y-o,a=1,l=1,r=(this.flipX&&(h+=s,a=-1),this.flipY&&(o+=n,l=-1),r&&(h=Math.round(h),o=Math.round(o)),t.translate(h,o),t.rotate(this.rotation),t.scale(this.scaleX*a,this.scaleY*l),this.frame);t.drawImage(r.source.image,r.cutX,r.cutY,s,n,0,0,s,n),t.restore()}}),{_drawImage:function(t,e,i,r,s,n){g(this,{frame:e,x:i,y:r,width:s,height:n})},_drawTileSprite:function(t,e,i,r,s,n){var h=this.texture.get(e),o=h.width,a=h.height,l=Math.floor(s/o),u=Math.floor(n/a);i+=(s-l*o)/2,r+=(n-u*a)/2;for(var c=0;c<l;c++)for(var d=0;d<u;d++)g(this,{frame:e,x:i+c*o,y:r+d*a})}}),M=function(){h(s,v(O,"rexNinePatch2"));var t=l(s);function s(){return y(this,s),t.apply(this,arguments)}return n(s,[{key:"setBaseTexture",value:function(t,e,i,r){return this.setTexture(t,e),a(o(s.prototype),"setBaseTexture",this).call(this,t,e,i,r),this}}]),s}();function rt(t,e,i,r,s,n,h,o,a){t=new M(this.scene,t,e,i,r,s,n,h,o,a);return this.scene.add.existing(t),t}Object.assign(M.prototype,w);var st=Phaser.GameObjects.BuildGameObject;function nt(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);e=new M(this.scene,t);return st(this.scene,e,t),e}var R=function(t){return null==t||""===t||0===t.length},k=function(){h(r,Phaser.Plugins.BasePlugin);var i=l(r);function r(t){var e;return y(this,r),e=i.call(this,t),t.registerGameObject("rexNinePatch2",rt,nt),e}return n(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),r}();return function(t,e,i,r){if(void 0===r&&(r="."),"object"===x(t)){if(R(e)){if(null==i)return;"object"===x(i)&&(t=i)}else{r=(e="string"==typeof e?e.split(r):e).pop();(function(t,e,i){var r=t;if(!R(e))for(var s,n=0,h=(e="string"==typeof e?e.split("."):e).length;n<h;n++)null!=r[s=e[n]]&&"object"===x(r[s])||(r[s]=n!==h-1||void 0===i?{}:i),r=r[s];return r})(t,e)[r]=i}}}(window,"RexPlugins.GameObjects.NinePatch2",M),k});
